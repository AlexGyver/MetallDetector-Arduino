# Металлоискатель на Arduino
- Принцип работы: колебательный контур, частота которого зависит от индуктивности катушки. Arduino следит за изменениями частоты
- Статический режим: по нажатию на кнопку запоминается текущая частота, пищит когда есть отклонение
- Динамический режим: частота постоянно стремится к текущей, реагирует только на резкое появление металла
Подробности в видео: 

## Папки
- **metal_detector** - прошивка для Arduino, файл в папке открыть в Arduino IDE (читай FAQ)
- **schemes** - схемы к проекту

## Схема генератора
![СХЕМА](https://github.com/AlexGyver/MetallDetector-Arduino/blob/master/schemes/generator2.png)

## Схема блока электроники
![СХЕМА](https://github.com/AlexGyver/MetallDetector-Arduino/blob/master/schemes/scheme2.jpg)

##  Материалы и компоненты
Если товар закончился, то почти всё указанное ниже можно найти здесь http://alexgyver.ru/arduino_shop/ или здесь http://alexgyver.ru/electronics/

Блок электроники:
* Arduino NANO http://ali.pub/1tstau
* Потенциометр http://ali.pub/1tstce
* Колпачки http://ali.pub/1tsu5r
* Усилок http://ali.pub/1tste5
* Динамик http://ali.pub/1tsu3f
* Аудио гнездо http://ali.pub/1tsu9g
* Тумблеры http://ali.pub/1tsug9  
Рассыпуха:
* Кондеры: 100n, 22n
* Транзистор BC547
* Резисторы:  
1.2k - 1шт  
10k - 2шт  
* Кнопки можно найти тут https://www.chipdip.ru/catalog/switches-buttons

## Вам скорее всего пригодится
* Всё для пайки (паяльники и примочки) http://alexgyver.ru/all-for-soldering/
* Недорогие инструменты http://alexgyver.ru/my_instruments/
* Все существующие модули и сенсоры Arduino http://alexgyver.ru/arduino_shop/
* Электронные компоненты http://alexgyver.ru/electronics/
* Аккумуляторы и зарядные модули http://alexgyver.ru/18650/

## Как запустить и настроить
* Загрузка прошивки http://alexgyver.ru/arduino-first/

## Настройки в коде
    #define coin_amount 5    // число монет, которые нужно распознать
    float coin_value[coin_amount] = {0.5, 1.0, 2.0, 5.0, 10.0};  // стоимость монет
    String currency = "RUB"; // валюта (английские буквы!!!)
    int stb_time = 10000;    // время бездействия, через которое система уйдёт в сон (миллисекунды)

##  FAQ
### Основные вопросы
В: Как скачать с этого грёбаного сайта?  
О: На главной странице проекта (где ты читаешь этот текст) вверху справа зелёная кнопка **Clone or download**, вот её жми, там будет **Download ZIP**

В: Скачался какой то файл .zip, куда его теперь?
О: Это архив. Можно открыть стандартными средствами Windows, но думаю у всех на компьютере установлен WinRAR, архив нужно правой кнопкой и извлечь.

В: Я совсем новичок! Что мне делать с Ардуиной, где взять все программы?  
О: Читай и смотри видос http://alexgyver.ru/arduino-first/

В: Компьютер никак не реагирует на подключение Ардуины!  
О: Возможно у тебя зарядный USB кабель, а нужен именно data-кабель, по которому можно данные передавать

В: Ошибка! Скетч не компилируется!  
О: Путь к скетчу не должен содержать кириллицу. Положи его в корень диска.

В: Сколько стоит?  
О: Ничего не продаю.

### Вопросы по этому проекту
В: На дисплее ничего не отображается!  
О: Покрути регулировку контраста сзади платы дисплея
  
В: На дисплее вместо текста отображаются белые прямоугольники!  
О: У твоего дисплея другой адрес, вот тут `LCD_1602_RUS lcd(0x27, 20, 4);`  
замени 0x27 на 0x3f ( *подсказка: `LCD_1602_RUS lcd(0x3f, 20, 4);`* )
  
В: А где ссылка на маленький дисплей?  
О: http://alexgyver.ru/arduino_shop/  дисплей OLED
  
В: При отключении акб или его полном разряде ведь счетчик монет сбросится?  
О: Нет, ты видео чем слушал?
  
В: Почему может не калиброваться? все перепробывал. Не распознает монеты?  
О: Возможно криво стоит датчик. В скетче есть режим отладки, раскомментируй его
  
В: Можно ли замутить ввод суммы кнопками?  
О: Можно, замути, мне некогда
  
В: Можно ли использовать фоторезистор?  
О: Инфракрасный? Если найдёшь - можно